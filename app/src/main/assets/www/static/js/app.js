function onTilesLoaded(){for(var a=new Array;a.length<24;){var b=Math.floor(44*Math.random());-1==a.indexOf(b)&&a.push(b,b)}for(i=0;i<96;i++){var c=Math.floor(24*Math.random()),d=Math.floor(24*Math.random()),e=a[c];a[c]=a[d],a[d]=e}for(i=0;i<4;i++)for(j=0;j<6;j++){var f=PIXI.Sprite.fromFrame(a[6*i+j]);f.buttonMode=!0,f.interactive=!0,f.isSelected=!1,f.theVal=a[6*i+j],f.position.x=7+80*i,f.position.y=7+80*j,f.tint=0,f.alpha=.5,gameContainer.addChild(f),f.mousedown=f.touchstart=function(a){canPick&&(this.isSelected||(this.isSelected=!0,this.tint=16777215,this.alpha=1,null==firstTile?firstTile=this:(secondTile=this,canPick=!1,firstTile.theVal==secondTile.theVal?setTimeout(function(){gameContainer.removeChild(firstTile),gameContainer.removeChild(secondTile),firstTile=null,secondTile=null,canPick=!0},1e3):setTimeout(function(){firstTile.isSelected=!1,secondTile.isSelected=!1,firstTile.tint=0,secondTile.tint=0,firstTile.alpha=.5,secondTile.alpha=.5,firstTile=null,secondTile=null,canPick=!0},1e3))))}}requestAnimFrame(animate)}function animate(){requestAnimFrame(animate),renderer.render(stage)}var firstTile=null,secondTile=null,canPick=!0,stage=new PIXI.Stage(16316664),renderer=PIXI.autoDetectRenderer(320,480),tileAtlas=["static/data/images.json"],loader=new PIXI.AssetLoader(tileAtlas),gameContainer=new PIXI.DisplayObjectContainer;stage.addChild(gameContainer),document.body.appendChild(renderer.view),loader.onComplete=onTilesLoaded,loader.load();
